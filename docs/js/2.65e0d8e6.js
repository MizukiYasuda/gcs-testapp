(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"0294":function(t,e,n){},"43db":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",{staticClass:"flex flex-center"},[n("h1",[t._v("This is SIGNATURE page")]),n("canvas",{attrs:{id:"canvassample",width:"500",height:"300"}}),n("div",[n("button",{attrs:{type:"button",onclick:"prevCanvas()"}},[t._v("戻る")]),n("button",{attrs:{type:"button",onclick:"nextCanvas()"}},[t._v("進む")])]),n("q-btn",{on:{click:t.takePhoto}},[t._v("GET SIGN!")]),n("img",{attrs:{src:t.imgSrc}}),n("canvas",{staticStyle:{display:"none"}}),n("a",{attrs:{id:"imgatag",download:"signature.png",href:t.imgSrc}},[t._v("download...")])],1)},a=[],i={name:"PageIndex",data:function(){return{canvas:null,context:null,moveflg:0,drawSize:7,drawColor:"#555555",imgSrc:""}},mounted:function(){this.canvas=document.getElementById("canvassample"),this.context=this.canvas.getContext("2d"),this.initLocalStorage(),this.canvas=document.getElementById("canvassample"),console.log(this.canvas),this.canvas.addEventListener("mousedown",this.startPoint,!1),this.canvas.addEventListener("mousemove",this.movePoint,!1),this.canvas.addEventListener("mouseup",this.endPoint,!1)},methods:{startPoint:function(t){console.log("%cstartPoint","color:red; font-size:20px;",t),t.preventDefault(),this.context.beginPath(),console.log("clientX",t.clientX);var e=t.layerX-8,n=t.layerY-8;this.context.moveTo(e,n)},movePoint:function(t){if(1===t.buttons||1===t.witch||"touchmove"==t.type){console.log("%cmovePoint","color:red;",t);var e=t.layerX-8,n=t.layerY-8;this.moveflg=1,this.context.lineTo(e,n),this.context.lineCap="round",this.context.lineWidth=2*this.drawSize,this.context.strokeStyle=this.drawColor,this.context.stroke()}},endPoint:function(t){if(console.log("%cendPoint","color:red; font-size:20px;",t),0===this.moveflg){var e=t.layerX-8,n=t.layerY-8;this.context.lineTo(e-1,n-1),this.context.lineCap="round",this.context.lineWidth=2*this.drawSize,this.context.strokeStyle=this.drawColor,this.context.stroke()}this.moveflg=0,this.setLocalStoreage()},setLocalStoreage:function(){var t=this.canvas.toDataURL(),e=JSON.parse(localStorage.getItem("__log"));setTimeout((function(){e.unshift({png:t}),localStorage.setItem("__log",JSON.stringify(e))}),0)},initLocalStorage:function(){localStorage.setItem("__log",JSON.stringify([]))},takePhoto:function(){this.imgSrc=this.canvas.toDataURL("image/png")}}},s=i,c=(n("f854"),n("2877")),l=n("9989"),r=n("9c40"),h=n("eebe"),d=n.n(h),v=Object(c["a"])(s,o,a,!1,null,null,null);e["default"]=v.exports;d()(v,"components",{QPage:l["a"],QBtn:r["a"]})},f854:function(t,e,n){"use strict";var o=n("0294"),a=n.n(o);a.a}}]);